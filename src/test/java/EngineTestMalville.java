import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;

import java.io.ByteArrayOutputStream;
import java.io.OutputStream;
import java.io.PrintStream;

import static org.assertj.core.api.AssertionsForClassTypes.assertThat;

class EngineTestMalville {

    private Engine engine;
    private OutputStream outputStream;

    @BeforeEach
    void before() {
        this.outputStream = new ByteArrayOutputStream();
    }

    @Test
    public void testDisplayResults(){
        String[] args = {"test_malville_moby.txt"};
        this.engine = new Engine(new View(new PrintStream(outputStream)));
        engine.run(args);

        System.out.println(outputStream.toString());
        assertThat(outputStream.toString()).contains(
                "FileName: test_malville_moby.txt",
                "Dict size: 16957",
                "Amount of words: 219044",
                "Amount of characters: 955387",
                "Words which occur more than 10 times: [a, aboard, about, above, according, account, across, act, actually, added, additional, advance, advanced, advancing, affair, afloat, afraid, aft, after, afterwards, again, against, age, ages, ago, ah, ahab, ahead, ain, air, alike, alive, all, almost, aloft, alone, along, alongside, already, also, altogether, always, am, ambergris, america, american, amid, among, an, anchor, ancient, and, animal, another, answer, answered, any, anything, anywhere, apart, appearance, arched, are, arm, armed, arms, around, arrived, art, articles, as, ashes, ashore, aside, asked, aspect, astern, at, atlantic, attached, aught, avast, away, awe, awful, aye, back, backs, bad, bag, baleen, ball, bar, barbaric, barbs, barrels, base, battle, be, beach, bear, bearing, bears, beat, beating, became, because, become, becomes, bed, bedford, beef, been, before, began, begin, beginning, begins, beheld, behind, behold, beholding, being, believe, belong, belonged, below, bench, beneath, bent, besides, best, better, between, beware, beyond, bible, big, bildad, billows, binnacle, bird, birds, bit, black, blackness, blacksmith, blanket, blast, blessed, blind, block, blood, blow, blows, blubber, blue, board, boat, boats, bodily, body, boiling, bold, bone, bones, book, books, boots, bore, born, both, bottom, bound, bow, bowels, bows, box, boy, boys, brain, brave, bread, break, breakfast, breaking, breath, breeze, bright, bring, broad, broke, broken, brother, brought, brow, bucket, bulk, bull, bulwarks, bunger, buoy, buried, burn, burning, burst, bursting, business, but, butter, by, bye, cabin, call, called, calling, calls, calm, calmly, came, can, canal, cannibal, cannibals, cannot, canoe, canst, canvas, cape, capstan, captain, captains, capture, captured, care, careful, carefully, carpenter, carried, carries, carry, carrying, carved, case, cases, cask, casks, cast, catch, caught, cause, caused, central, centre, centuries, certain, certainly, cetology, chains, chance, chanced, chap, chapel, chapter, character, chase, chased, chest, chief, chiefly, child, children, christian, church, circle, circles, circumstance, circumstances, city, civilized, clam, clean, clear, clock, close, closely, clothes, clouds, coast, coat, cod, coffin, coiled, cold, colour, come, comes, coming, command, commanded, commander, common, commotion, company, compass, complete, completely, conceit, concerning, concluded, concluding, conduct, connected, conscience, consider, considerable, considered, considering, contact, content, continual, continually, continued, contrary, contrast, convenient, cook, cool, corner, corpse, could, countenance, country, course, cover, covered, coward, craft, crazy, creature, creatures, crew, crews, cried, cries, critical, cross, crossed, crossing, crotch, crow, crown, cruising, cry, cunning, curious, cursed, customary, cut, cutting, cuvier, d, daggoo, dam, dangerous, dare, dark, darkness, dart, darted, darting, dashed, dat, day, days, de, dead, deadly, deal, death, deck, decks, declared, deemed, deep, deeper, degree, delight, demanded, den, departed, derick, descend, descried, desired, desperate, devil, devils, dick, did, didn, die, died, difference, different, dignity, dim, dinner, direct, direction, directly, disappeared, discovery, dish, distance, distant, distinct, dived, do, does, dog, doing, don, done, doom, door, dost, double, doubloon, doubt, doubtless, dough, down, downwards, drag, dragged, draw, drawing, drawn, dread, drew, drink, drive, drop, dropped, dropping, drowned, dry, dumb, during, dutch, duty, dying, e, each, eager, ear, early, ears, earth, earthly, east, easy, eat, eating, effect, eh, eight, either, element, elephant, elephants, elevated, elijah, else, elsewhere, em, employed, empty, enchanted, encounter, encountered, end, endless, ends, engaged, england, english, enormous, enough, enter, entered, entire, entirely, equal, equator, ere, erect, escape, escaped, especially, eternal, even, evening, event, events, ever, every, everything, evil, evinced, exactly, example, exceeding, exceedingly, excellent, except, exclaimed, experienced, external, extreme, eye, eyeing, eyes, face, faces, fact, fail, fain, faint, fair, fairly, faith, fall, falling, family, famous, fancy, far, fashion, fashioned, fast, fastened, fat, fatal, fate, father, fathoms, fear, fearful, features, fedallah, feel, feeling, feels, feet, fell, fellow, fellows, felt, fetch, few, field, fierce, fiery, fifteen, fifty, fight, figure, fill, filled, fin, final, finally, find, fine, finger, fingers, fins, fire, firm, firmly, first, fish, fishermen, fishery, fit, fitted, five, fixed, flag, flame, flames, flank, flask, fleece, fleet, flesh, flew, floated, floating, floats, flood, floor, flukes, flung, fly, flying, foam, foe, folio, follow, followed, following, food, fool, foolish, foot, for, force, forced, fore, forecastle, forehead, foremost, forge, forget, form, formed, former, forming, forms, forth, forty, forward, foul, found, four, fourth, fowls, frantic, free, freely, french, frequently, fresh, friend, friends, fro, from, front, full, fully, furnished, further, future, gabriel, gain, gained, gale, gallant, game, gave, gay, gaze, gazing, general, generally, gentleman, gentlemen, german, get, getting, ghost, gigantic, ginger, give, given, gives, giving, glad, glance, glancing, glass, glided, gliding, globe, gloom, glory, go, god, gods, goes, going, gold, golden, gone, good, got, grand, grass, grave, great, greater, greatest, green, greenland, grew, grey, grim, ground, grounds, grow, grown, guernsey, guess, gunwale, ha, had, hail, hailed, hair, half, hammer, hammock, hand, handle, hands, hanging, happened, happens, harbor, hard, hardly, hark, harpoon, harpooneer, harpooneers, harpoons, has, hast, hat, haul, have, having, he, head, headed, heads, hear, heard, hearing, hearse, heart, hearted, hearts, heat, heave, heaved, heaven, heavens, heaving, heavy, height, held, hell, helm, helmsman, help, helped, hemp, hence, her, herd, herds, here, hidden, high, higher, hill, him, himself, hint, hinted, his, history, hit, hither, hitherto, ho, hoisted, hoisting, hold, holding, hole, hollow, holy, home, honest, honour, hook, hoops, hope, horizon, horizontal, horn, horrible, horror, horse, horses, hot, hour, hours, house, how, however, howling, hue, huge, hull, human, hump, hundred, hung, hunt, hunted, hunter, hunters, hussey, i, ice, idea, idol, if, ignorance, ii, iii, ill, image, immediately, immense, immortal, important, impossible, in, inch, inches, included, indeed, indian, indifferent, indirectly, indispensable, individual, infallibly, inn, inserted, inside, instance, instances, instant, instantly, instead, insult, intense, intent, interest, interior, interval, intervals, into, invariably, invested, invisible, involuntarily, iron, irons, is, ishmael, island, islands, isle, isles, it, its, itself, ivory, jack, jacket, jaw, jaws, jeroboam, jet, jets, job, john, jolly, jonah, joy, judgment, jump, jumped, just, keel, keen, keep, keeping, kept, key, kick, kill, killed, kind, king, kings, knew, knife, know, knowing, knowledge, known, knows, lad, ladder, ladies, lads, laid, lakeman, lamp, lance, lances, land, landed, landlord, lantern, large, largest, lashed, last, late, latitude, latitudes, latter, laugh, law, lay, lead, leading, leak, lean, leaned, leaning, leap, leaped, leaping, learned, least, leave, leaves, leaving, lee, leeward, left, leg, legs, length, lengthwise, less, lesson, let, letter, letters, level, leviathan, leviathans, lie, lies, life, lift, lifted, light, lighted, lightning, like, likewise, line, lines, lips, little, live, lived, lively, lives, living, ll, lo, loaded, locked, lofty, log, london, lonely, long, longer, look, looked, looking, looks, loose, lord, lost, loud, love, lovely, low, lower, lowered, lowering, luck, lungs, lying, m, mad, made, madness, magnitude, main, mainmast, make, makes, making, malice, man, mankind, manned, manner, manxman, many, marble, mariner, mariners, mark, marked, marks, marvellous, mass, mast, master, masts, mat, mate, mates, matter, matters, may, me, mean, meaning, means, meant, meantime, meanwhile, measure, meat, meet, meeting, meets, memory, men, mention, mentioned, merchant, mere, merely, merry, met, mid, middle, midnight, might, mighty, mild, miles, milk, mind, minds, mine, minute, minutes, missing, mist, mixed, moby, modern, moment, moments, money, monkey, monomaniac, monster, monstrous, months, moody, more, moreover, morning, morrow, mortal, most, mostly, mother, motion, motions, mount, mountain, mountains, mounted, mouth, moved, moving, mr, mrs, much, murmured, must, muttered, my, myself, mysterious, mystic, nailed, naked, name, named, nameless, names, nantucket, nantucketer, narrative, narrow, narwhale, nations, native, natural, naturalists, naturally, nature, naught, nay, near, nearer, nearly, neck, need, needle, needles, needs, negro, neither, nest, never, nevertheless, new, news, next, nigh, night, nights, no, noble, noise, none, noon, nor, north, northern, nose, not, nothing, notice, noticed, now, number, numerous, o, oar, oars, oarsman, oarsmen, object, objects, observe, observed, obvious, occasionally, ocean, oceans, octavo, of, off, offered, officer, officers, often, oh, oil, old, on, once, one, ones, only, open, opening, opinion, opposite, or, order, orders, ordinary, oriental, original, originally, other, others, otherwise, our, ourselves, out, outer, outs, outward, over, overboard, owing, own, owners, pacific, pacing, pagan, pains, painted, pair, pale, palms, parsee, part, particular, partly, parts, pass, passage, passed, passing, past, paused, pay, peace, peculiar, peculiarities, peleg, people, pequod, perceived, perhaps, peril, perilous, perils, period, perpendicular, perseus, person, perth, phantom, pick, picked, picture, pictures, piece, pieces, piled, pilot, pine, pip, pipe, pirates, pitch, place, placed, places, plain, plainly, plan, plank, planks, planted, play, pleasant, please, plenty, pocket, point, pointed, pointing, points, polar, pole, poles, ponderous, poor, porpoise, port, position, possession, possible, possibly, post, pots, power, practical, prairie, precious, precise, precisely, prepared, present, presented, presently, pretty, previous, previously, prey, private, probably, proceed, prodigious, profound, prolonged, proper, prophet, prove, proved, prow, pull, pulled, pulling, pulpit, pumps, purpose, pursuit, pushed, put, putting, quantity, quarter, queen, queequeg, queer, question, quick, quickly, quiet, quietly, quite, race, radney, raised, ramadan, ran, rapid, rapidly, rare, rate, rather, re, reach, reached, reaching, read, readily, ready, real, really, rear, reason, reasons, received, receiving, red, reference, regarded, regular, regularly, remain, remained, remaining, remains, remarkable, remember, remote, repeated, replied, repose, resolved, respect, rest, resting, return, returned, revealed, rib, ribs, rigging, right, ring, rise, rising, roared, rock, rocks, rod, rods, roll, rolled, rolling, rolls, roman, room, rope, ropes, rose, round, row, royal, run, running, rush, rushed, rushing, s, sadly, said, sail, sailed, sailing, sailor, sailors, sails, sake, salt, same, samuel, sand, sank, sat, savage, save, saw, say, saying, says, scarce, scene, scenes, scientific, scuttle, sea, seaman, seamen, seas, season, seat, seated, second, secret, secure, secured, see, seeing, seek, seeking, seem, seemed, seems, seen, seized, seizing, seldom, self, send, sense, sent, separate, service, set, setting, settled, seven, seventy, several, shadow, shadows, shake, shall, shape, shark, sharks, sharp, she, ship, shipmate, shipmates, shipped, ships, shock, shook, shore, short, shot, should, shoulder, shoulders, shouted, show, showed, shut, side, sides, sideways, sight, sights, sign, significant, signs, silence, silent, silently, silver, similar, simple, simultaneously, since, sing, singing, single, sink, sinking, sir, sit, sitting, six, sixty, size, skeleton, skin, skull, sky, slain, slave, sleep, sleeping, sleet, slid, slightest, slightly, slow, slowly, small, smaller, smell, smells, smoke, smoking, snow, so, social, soft, softly, solemn, solid, solitary, some, somehow, something, sometimes, somewhat, somewhere, son, soon, sooner, sort, sorts, sought, soul, souls, sound, sounding, sounds, south, southern, space, spade, spanish, spare, spars, speak, speaking, special, species, speed, spell, sperm, spermaceti, spine, spirit, spiritual, spite, split, spoke, spoken, spot, spout, spouting, spouts, sprang, spray, spread, spring, squall, square, st, stand, standing, stands, starboard, starbuck, stars, start, started, starting, state, stay, steadily, steady, steak, steel, steelkilt, steering, step, stern, steward, still, stone, stood, stop, storm, story, stout, stove, straight, straightway, strain, straits, stranded, strange, strangely, stranger, stream, street, streets, strength, stricken, strike, striking, stripped, stroke, strong, strongly, struck, stubb, stuff, stump, subject, subsequent, substance, subtle, such, sudden, suddenly, summer, sun, sunrise, superior, supper, supplied, suppose, supposed, sure, surface, suspended, swallow, swallowed, swam, swear, sweep, sweeping, sweet, swell, swells, swift, swiftly, swim, swimming, swinging, sword, swung, symbol, system, t, table, tackle, tackles, tail, take, taken, takes, taking, talk, tall, tambourine, tapering, tashtego, taste, teeth, tell, telling, temple, temporary, ten, terms, terrible, terrific, terror, terrors, than, thank, that, the, thee, their, theirs, them, themselves, then, there, thereby, therefore, these, they, thick, thin, thine, thing, things, think, thinking, thinks, third, thirty, this, those, thou, though, thought, thoughts, thousand, thousands, three, through, throw, throwing, thrown, thrust, thunder, thus, thy, thyself, tide, tied, tiger, till, tiller, time, times, tis, to, together, toil, token, told, tomahawk, tongue, too, took, top, tore, tormented, torn, tossed, tossing, touch, touched, touching, tow, towards, tower, towing, town, tree, trees, tried, trouble, troubled, trowsers, true, truly, trunk, truth, try, trying, tub, tubs, tun, turn, turned, turning, turns, twelve, twenty, twice, two, um, unaccountable, uncommon, under, understand, unearthly, unknown, unless, unseen, unusual, up, upon, upper, upright, upwards, us, usage, use, used, using, utmost, utterly, vain, valuable, vapour, various, vast, ve, vengeance, very, vessel, vessels, vice, vicinity, view, violent, virgin, virtue, visible, visit, vocation, voice, volume, voyage, voyages, waist, wake, wall, walls, want, wanting, war, warm, warp, was, watch, watches, watching, water, waters, watery, wave, waves, way, ways, we, weary, weather, weight, welded, well, went, were, west, wet, whale, whalebone, whaleman, whalemen, whaler, whalers, whales, whaling, wharf, what, whatever, when, whence, whenever, where, whereas, wherefore, whether, which, while, whispered, white, whiteness, who, whole, wholly, whom, whose, why, wicked, wide, wife, wild, will, wind, windlass, window, winds, windward, wine, winter, wise, wish, with, within, without, woe, women, won, wonder, wonderful, wonders, wondrous, wood, wooden, word, words, wore, work, working, works, world, worn, worse, worship, worth, would, wound, wreck, wrinkled, wrinkles, written, yard, yards, ye, yea, year, years, yellow, yes, yet, yield, yojo, yonder, you, young, your, yourself]",
                "'archers' count: 0",
                "'love' count: 24",
                "'hate' count: 9",
                "'fun' count: 6",
                "Execution time in nano seconds:");
    }
}