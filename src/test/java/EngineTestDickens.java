import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;

import java.io.ByteArrayOutputStream;
import java.io.OutputStream;
import java.io.PrintStream;

import static org.assertj.core.api.AssertionsForClassTypes.assertThat;

class EngineTestDickens {

    private Engine engine;
    private OutputStream outputStream;

    @BeforeEach
    void before() {
        this.outputStream = new ByteArrayOutputStream();
    }

    @Test
    public void testDisplayResults(){
        String[] args = {"test_dickens_great.txt"};
        this.engine = new Engine(new View(new PrintStream(outputStream)));
        engine.run(args);

        System.out.println(outputStream.toString());
        assertThat(outputStream.toString()).contains(
                "FileName: test_dickens_great.txt",
                "Dict size: 10762",
                "Amount of words: 188912",
                "Amount of characters: 761674",
                "Words which occur more than 10 times: [a, able, about, above, according, account, acquaintance, acquainted, across, action, add, added, address, addressed, addressing, admiration, admission, adopted, affairs, affection, afore, afraid, after, afternoon, afterwards, again, against, age, aged, ago, agreeable, ah, ain, air, all, allowed, almost, alone, along, aloud, already, also, although, altogether, always, am, amazement, among, an, and, angry, another, answer, answered, anxious, any, anybody, anything, anywhere, apart, appearance, appeared, appointed, are, arm, arms, around, arrived, article, as, ashamed, aside, ask, asked, asking, asleep, assented, assure, at, ate, attention, aunt, avenger, aware, away, awful, ay, baby, back, bad, bag, bank, bar, bargemen, barley, barnard, bars, battery, be, bear, beat, beautiful, beauty, became, because, become, bed, bedroom, been, beer, before, began, begged, begin, beginning, begun, behind, being, belief, believe, believed, bell, below, benefactor, bent, bentley, beside, besides, best, better, between, betwixt, beyond, biddy, bill, birthday, bit, black, blacksmith, bless, blind, blood, blow, blue, boar, board, boat, body, book, boots, born, bosom, both, bottle, bottom, bound, box, boy, bread, break, breakfast, breaking, breast, breath, breathing, brewery, bridal, bridge, bright, bring, bringing, britain, broad, broke, broken, brother, brought, brown, bundle, burning, burnt, burst, business, busy, but, butter, by, bye, call, called, calling, came, camilla, can, candle, candles, cannot, cap, capital, cards, care, carefully, carried, cart, case, cast, castle, caught, cause, caused, ceiling, certain, certainly, chain, chair, chaise, chambers, chance, change, changed, chap, chapter, character, charge, cheerful, child, children, chimney, church, churchyard, circumstances, city, clara, clean, clear, clem, clerk, client, cloak, clock, close, closed, cloth, clothes, coach, coarse, coat, coffee, cold, come, comes, comfort, comfortable, coming, common, communication, company, compeyson, comrade, concerning, condition, confidence, confused, confusion, conscience, conscious, consider, consideration, considered, considering, conversation, convict, conviction, convicts, convinced, corner, could, couldn, countenance, country, course, court, courtyard, creature, cried, cross, crossed, cry, crying, curious, cut, d, danger, dare, dark, darkness, daughter, day, daylight, days, dead, deal, dear, death, debt, decided, deep, degrees, demanded, derived, determined, did, didn, die, died, difference, different, difficult, difficulty, dine, dined, dinner, direction, directly, dirty, disagreeable, discovery, dismal, distance, distant, distinctly, do, does, dog, doing, don, done, door, doors, doubt, down, dozen, drank, dread, dreadful, dress, dressed, dressing, drew, drink, drinking, drop, dropped, drove, drummle, dry, dull, during, dust, duty, each, early, ears, earth, easily, easy, eat, eating, ee, effect, eight, either, elbow, else, em, empty, end, engaged, england, enough, entered, equal, equally, established, establishment, estella, even, evening, ever, every, everybody, everything, evidence, evidently, exactly, exceedingly, except, exclaimed, excuse, expect, expectations, expected, experience, express, expressed, expression, expressive, extent, extraordinary, eye, eyebrows, eyes, face, faces, fact, fair, fall, fallen, falling, family, fancied, fancy, far, fast, father, favor, fear, feel, feeling, feelings, feet, fell, fellow, felt, few, fifty, figure, file, filled, finally, find, finding, fine, finger, fingers, finished, fire, first, fit, five, fixed, flat, floor, flopson, flowers, folded, follow, followed, following, foot, for, forefinger, forehead, forge, forget, forgive, forgotten, fork, form, formed, former, forth, fortune, fortunes, forward, found, four, free, fresh, friend, friends, from, front, full, fully, fur, further, galley, game, garden, gargery, gate, gates, gave, general, gentleman, gentlemen, georgiana, get, getting, ghost, girl, giv, give, given, giving, glad, glance, glanced, glancing, glass, gloves, go, god, goes, going, gone, good, got, gradually, grass, grateful, grave, gray, great, greater, greatest, greatly, green, grew, ground, grove, growing, growled, grown, guardian, guilty, gun, ha, habit, had, hadn, hair, half, halloa, hammer, hammersmith, hand, handed, handel, handkerchief, hands, handsome, hanging, happened, happy, hard, hardly, has, hat, have, having, havisham, he, head, hear, heard, hearing, heart, heartily, heaven, heavily, heavy, held, help, her, herbert, here, herself, high, highly, him, himself, hinted, his, hold, holding, holiday, home, honest, honor, hope, hoped, horses, hot, hour, hours, house, housekeeper, houses, how, however, hubble, hulks, human, hundred, hung, hurry, hurt, husband, i, idea, if, ill, immediately, imparted, impossible, impression, in, indeed, influence, information, informed, inn, innocent, inquiry, instant, instantly, instead, intended, intention, interest, interrupted, into, iron, is, it, its, itself, j, jack, jaggers, jail, jane, joe, john, jolly, joseph, judge, just, justice, keep, keeping, kept, key, kind, king, kitchen, knee, knees, knew, knife, knocked, know, knowed, knowing, knowledge, known, knows, lady, laid, lamp, landing, landlord, lane, large, last, lasted, late, laugh, laughed, laughing, lay, laying, lead, leaned, leaning, learnt, least, leave, leaving, led, left, leg, legs, length, less, let, letter, liberty, lie, lies, life, lift, lifted, light, lighted, lights, like, liked, likely, likewise, line, lips, little, live, lived, living, ll, locked, london, long, longer, look, looked, looking, looks, lord, loss, lost, love, loved, low, lower, lying, m, ma, made, magwitch, make, makes, making, man, manner, manners, many, mark, married, marry, marsh, marshes, master, match, matter, matthew, may, me, mean, meaning, means, meant, meantersay, meet, melancholy, men, mention, mentioned, mentioning, mere, merely, met, might, mike, miles, mill, mind, mine, minute, minutes, miserable, miss, mist, moment, moments, monday, money, months, moon, more, morning, morrow, most, mother, mouth, moved, movement, moving, mr, mrs, much, mud, mum, murder, must, my, myself, mysterious, name, names, natural, naturally, nature, near, nearer, nearly, necessary, neck, need, neighborhood, neither, never, new, newgate, next, nigh, night, nine, no, noble, nobody, nod, nodded, nodding, noise, none, nor, nose, not, note, notes, nothing, notice, noticed, notion, now, number, o, oars, object, objection, obliged, observed, occasion, occasionally, occasions, occurred, odd, of, off, office, often, oh, old, on, once, one, only, open, opened, opening, opinion, opportunity, opposite, or, order, ordered, orlick, other, others, otherwise, ought, our, ourselves, out, outer, outside, over, own, paid, pain, pair, pale, paper, parlor, part, parted, particular, particularly, parting, pass, passage, passed, passing, past, patron, pause, pay, pen, people, perfectly, perhaps, person, personal, pie, piece, pip, pipe, pity, place, placed, places, plain, play, played, pleasant, please, pleased, pleasure, pocket, pockets, point, poker, pond, poor, pork, portable, position, possessed, possession, possible, possibly, post, pound, pounds, power, pray, premises, preparation, prepared, presence, present, presented, presently, pretended, pretty, pride, prison, prisoner, private, probably, property, proud, provis, public, pudding, pull, pulled, pulling, pumblechook, purpose, purse, pursued, pushed, put, putting, quarter, question, questions, quiet, quietly, quite, ragged, rain, raised, ran, rate, rather, re, read, reading, ready, real, really, reason, reasons, recalled, received, recognized, red, reference, reflected, regarded, regular, relation, relations, relief, remain, remained, remark, remarkable, remarked, remember, remembrance, reminded, repeated, replied, reply, resolved, respect, rest, resumed, retorted, return, returned, rich, richmond, rid, ride, ridiculous, right, ring, rise, rising, river, road, roll, roof, room, rooms, rope, rose, round, rum, run, running, s, safe, said, sake, same, sarah, sat, satisfaction, satisfied, save, saw, say, saying, says, scarcely, school, sea, seat, seated, second, secret, see, seeing, seem, seemed, seems, seen, self, sense, sent, sergeant, serious, served, service, set, settle, settled, seven, several, shake, shaking, shall, sharp, she, shelf, shining, ship, ships, shoe, shoes, shook, shop, shore, short, should, shoulder, shoulders, shouldn, show, showed, shown, shut, side, sides, sight, sign, silence, silent, since, single, sir, sister, sit, sitting, six, skiffins, sky, slate, sleep, sleeve, slight, slow, slowly, sluice, small, smell, smile, smiling, smoke, smoking, so, society, softened, softly, soldiers, solitary, some, somebody, somehow, something, sometimes, son, soon, sooner, sorry, sort, soul, sound, south, spare, speak, speaking, speech, spirit, spirits, spite, spoke, spoken, spot, spread, stage, staircase, stairs, stand, standing, stared, staring, stars, start, started, startop, state, stay, steady, steamer, step, stick, still, stone, stones, stood, stop, stopped, stopping, story, straight, strange, stranger, street, streets, strength, striking, strong, stronger, strongly, struck, struggle, stuck, subject, such, sudden, suddenly, suffered, suit, sum, summer, sun, sunday, supper, suppose, supposed, sure, surely, surprise, surprised, suspected, suspicion, suspicious, swore, t, table, take, taken, taking, talk, talked, talking, tea, tears, teeth, tell, temper, temple, ten, tenderness, terms, terrible, terror, than, thank, thanked, that, the, their, them, themselves, then, there, therefore, these, they, thick, thing, things, think, thinking, third, this, those, though, thought, thoughts, thousand, three, threw, throat, through, throughout, throwing, thrown, thus, tide, tied, till, time, times, tired, to, together, told, tom, tone, too, took, top, touch, touched, towards, town, trabb, trade, trial, tried, trouble, troubled, true, trust, truth, try, trying, tumbling, turn, turned, turning, twenty, twice, two, uncle, uncomfortable, under, understand, understanding, understood, uneasy, unknown, unless, until, up, upon, upstairs, us, use, used, usual, utmost, various, ve, very, view, village, violent, visit, voice, wait, waited, waiter, waiting, walk, walked, walking, wall, walworth, want, wanted, warm, warn, warning, was, watch, watched, watching, watchman, water, way, ways, we, weak, wear, weather, week, well, wemmick, went, were, wet, what, whatever, when, whenever, where, whether, which, while, whisper, white, who, whole, whom, whose, why, wi, wide, wife, wild, will, wind, window, windows, wine, wish, wished, with, within, without, witness, woman, women, won, wonder, wondered, wonderful, wondering, wooden, wopsle, word, words, wore, work, worked, working, world, worn, worse, worst, worth, wot, would, wouldn, wretched, write, writing, written, wrong, wrote, yard, year, years, yellow, yes, yesterday, yet, you, young, your, yours, yourself]",
                "'archers' count: 0",
                "'love' count: 60",
                "'hate' count: 4",
                "'fun' count: 0",
                "Execution time in nano seconds:");
    }
}